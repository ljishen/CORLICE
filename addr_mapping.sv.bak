`define ADDR_WIDTH 64

typedef bit [`ADDR_WIDTH-1:0] addr_width_t;


module addr_maping(in, out);

   input in;
   output out;

endmodule


module default_hash();
   parameter LG_NUM_BUCKETS = 2;   // 2^LG_NUM_BUCKETS is the number of buckets we're hashing into.
   
   parameter COE_A;
   parameter COE_B;

   function addr_width_t hash;
      input addr_width_t sva;
      reg [`ADDR_WIDTH/2-1:0] upper, lower, mask;
   
      upper = sva >> (`ADDR_WIDTH / 2);
      mask = (1 << (`ADDR_WIDTH / 2)) - 1;
      lower = sva & mask;

      hash = (upper * COE_A + lower * COE_B) >> (`ADDR_WIDTH - LG_NUM_BUCKETS);
   endfunction
endmodule

module default_universal_hash();
   function 


module default_hash_tb();
   reg addr_width_t res;
   
   
   default_hash #(.COE_A(32'h6f23ffab), .COE_B(32'h1f23ffab)) dh();
   
   initial
   begin
      res = dh.hash(`ADDR_WIDTH'h ffbbbbbbffbbbbbb);
      
      $display("sva is %h", dh.hash.sva);
      $display("upper is %h", dh.hash.upper);
      $display("lower is %h", dh.hash.lower);
      $display("res is %d", res);
   end
endmodule